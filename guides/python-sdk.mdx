---
title: Python SDK
description: Use the Incredible API through the official Python client.
sidebarTitle: Python SDK
section: SDKs
---

# Incredible Python SDK

The official Python SDK for the [Incredible API](https://docs.incredible.one/). Provides an Anthropic-compatible interface with enhanced features for all Incredible API endpoints.

---

## Installation

```bash
pip install incredible-python
```

The SDK requires Python 3.8 or higher.

---

## Quick Start

```python
from incredible_python import Incredible

client = Incredible()

# Simple chat completion
response = client.messages.create(
    model="small-1",
    max_tokens=150,
    messages=[{"role": "user", "content": "Give me 3 productivity tips."}],
)

print(response.content[0]['text'])
print("Token usage:", response.token_usage)
```

### Configuration

The client can be configured via constructor arguments or environment variables:

```python
from incredible_python import Incredible

client = Incredible(
    api_key="your-api-key",  # or set INCREDIBLE_API_KEY env var
    base_url="https://api.incredible.one",  # or set INCREDIBLE_BASE_URL
    timeout=600,  # Request timeout in seconds
    max_retries=2,  # Number of retry attempts
)
```

| Setting | Environment Variable | Default |
|---------|---------------------|---------|
| `api_key` | `INCREDIBLE_API_KEY` | *(optional)* |
| `base_url` | `INCREDIBLE_BASE_URL` | `https://api.incredible.one` |
| `timeout` | — | `600` seconds |
| `max_retries` | — | `2` |

---

## Callable Resources

All resources support both direct callable syntax and explicit `.create()` methods:

```python
# Direct callable (more concise)
response = client.messages(
    model="small-1",
    messages=[{"role": "user", "content": "Hello"}],
    max_tokens=100
)

# Explicit method (more familiar)
response = client.messages.create(
    model="small-1",
    messages=[{"role": "user", "content": "Hello"}],
    max_tokens=100
)
```

**Resources supporting callable syntax:**
- `client.messages()` / `client.messages.create()`
- `client.completions()` / `client.completions.create()`
- `client.answer()`
- `client.conversation()`
- `client.agent()`
- `client.web_search()`
- `client.deep_research()`
- `client.generate_image()`
- `client.generate_video()`

---

## Messages API

Chat completions with Anthropic-compatible interface:

```python
response = client.messages.create(
    model="small-1",
    max_tokens=256,
    temperature=0.7,
    messages=[
        {"role": "system", "content": "You are a helpful assistant."},
        {"role": "user", "content": "Explain quantum computing in simple terms."},
    ],
)

print(response.content[0]['text'])
print(f"Stop reason: {response.stop_reason}")
print(f"Usage: {response.token_usage}")
```

### Function Calling

```python
from incredible_python import Incredible, helpers

client = Incredible()

functions = [
    {
        "name": "calculate",
        "description": "Perform basic math operations",
        "parameters": {
            "type": "object",
            "properties": {
                "operation": {"type": "string", "enum": ["add", "subtract", "multiply", "divide"]},
                "a": {"type": "number"},
                "b": {"type": "number"},
            },
            "required": ["operation", "a", "b"],
        },
    },
]

# Initial request
response = client.messages.create(
    model="small-1",
    max_tokens=256,
    messages=[{"role": "user", "content": "What is 127 + 349?"}],
    functions=functions,
)

# Execute tool calls if any
if response.tool_calls:
    plan = helpers.build_tool_execution_plan(response.raw)
    if plan and not plan.is_empty():
        # Define your tool registry
        registry = {
            "calculate": lambda operation, a, b: {
                "add": a + b,
                "subtract": a - b,
                "multiply": a * b,
                "divide": a / b,
            }[operation],
        }
        
        # Execute tools
        results = helpers.execute_plan(plan, registry=registry)
        
        # Build follow-up messages
        follow_up = helpers.build_follow_up_messages(
            [{"role": "user", "content": "What is 127 + 349?"}],
            plan,
            results
        )
        
        # Get final response
        final = client.messages.create(
            model="small-1",
            max_tokens=256,
            messages=follow_up,
            functions=functions,
        )
        
        print(final.content[0]['text'])
```

### Streaming

```python
stream = client.messages.stream(
    model="small-1",
    max_tokens=256,
    messages=[{"role": "user", "content": "Write a haiku about coding."}],
)

for event in stream.iter_lines():
    if event.get("content", {}).get("type") == "content_chunk":
        print(event["content"]["content"], end="", flush=True)
```

---

## Text Completions

Simple text completion (OpenAI-style):

```python
response = client.completions.create(
    model="small-1",
    prompt="The capital of France is",
    max_tokens=10
)

print(response.choices[0].text)
```

---

## Answer API

Simple question-answering with optional structured output:

```python
# Simple answer
response = client.answer(query="What is the speed of light?")
print(response.answer)

# Structured output
schema = {
    "type": "object",
    "properties": {
        "result": {"type": "number"},
        "explanation": {"type": "string"},
    },
    "required": ["result"],
}

response = client.answer(
    query="What is 10% of 100?",
    response_format=schema
)
print(response.data)  # Structured data matching schema
```

---

## Conversation API

Multi-turn conversations with automatic context management:

```python
response = client.conversation(
    messages=[
        {"role": "user", "content": "Hi, I'm working on a Python project"},
        {"role": "assistant", "content": "Hello! What are you building?"},
        {"role": "user", "content": "I need to parse JSON files. Any suggestions?"}
    ]
)

print(response.response)
```

---

## Agent API

Autonomous agents with tool calling:

```python
tools = [
    {
        "name": "web_search",
        "description": "Search the web for information",
        "input_schema": {
            "type": "object",
            "properties": {
                "query": {"type": "string", "description": "Search query"}
            },
            "required": ["query"]
        }
    },
]

response = client.agent(
    messages=[{"role": "user", "content": "Search for the current Bitcoin price"}],
    tools=tools,
    max_tokens=500
)

if response.tool_calls:
    for call in response.tool_calls:
        print(f"Tool: {call.name}, Inputs: {call.inputs}")
else:
    print(response.content[0]['text'])
```

---

## Web Search

```python
response = client.web_search(
    query="Latest developments in quantum computing 2024",
    max_results=5
)

print("Answer:", response.answer)
print("\nSources:")
for source in response.sources:
    print(f"- {source['title']}: {source['url']}")
```

---

## Deep Research

In-depth research with multiple searches and synthesis:

```python
response = client.deep_research(
    query="Comprehensive analysis of renewable energy trends in 2024",
    depth="thorough"  # Options: "quick", "standard", "thorough"
)

print("Research Report:")
print(response.report)
print("\nKey Findings:")
for finding in response.key_findings:
    print(f"- {finding}")
```

---

## Image Generation

```python
response = client.generate_image(
    prompt="A serene mountain landscape at sunset, digital art style",
    size="1024x1024",
    quality="high"
)

print("Image URL:", response.image_url)
print("Revised prompt:", response.revised_prompt)
```

**Parameters:**
- `prompt` (required): Text description
- `size` (optional): "256x256", "512x512", "1024x1024", "1792x1024", "1024x1792"
- `quality` (optional): "standard" or "high"
- `n` (optional): Number of images (default: 1)
- `style` (optional): "vivid" or "natural"

---

## Video Generation

```python
response = client.generate_video(
    prompt="A time-lapse of a flower blooming in spring",
    duration=5,  # seconds
    resolution="720p"
)

print("Video URL:", response.video_url)
print("Status:", response.status)
```

**Parameters:**
- `prompt` (required): Text description
- `duration` (optional): Video duration in seconds (1-10)
- `resolution` (optional): "480p", "720p", or "1080p"
- `fps` (optional): Frames per second (default: 24)

---

## OCR

Extract text from images and PDFs:

### Image OCR

```python
# From URL
response = client.ocr.image(image_url="https://example.com/document.jpg")
print(response.text)

# From local file
with open("document.jpg", "rb") as f:
    response = client.ocr.image(image_file=f)
    print(response.text)
```

### PDF OCR

```python
# From URL
response = client.ocr.pdf(
    pdf_url="https://example.com/document.pdf",
    pages="1-5"  # Extract specific pages
)

print(f"Pages processed: {len(response.pages)}")
for page in response.pages:
    print(f"\n--- Page {page.page_number} ---")
    print(page.text)

# From local file
with open("document.pdf", "rb") as f:
    response = client.ocr.pdf(pdf_file=f)
    print(response.text)
```

---

## Files API

Upload and manage files:

```python
# Upload file
with open("document.pdf", "rb") as f:
    response = client.files.upload(
        file=f,
        purpose="assistants"  # "assistants", "vision", "ocr"
    )
    print(f"File ID: {response.file_id}")

# Upload from URL
response = client.files.upload_url(
    url="https://example.com/document.pdf",
    purpose="ocr"
)

# List files
files = client.files.list()
for file in files.data:
    print(f"{file.id}: {file.filename} ({file.size} bytes)")

# Get metadata
metadata = client.files.metadata(file_id="file_abc123")
print(f"Filename: {metadata.filename}, Size: {metadata.size}")

# Delete file
client.files.delete(file_id="file_abc123")
```

---

## Integrations API

List, connect, and execute third-party integrations:

```python
# List integrations
integrations = client.integrations.list()
for integration in integrations[:10]:
    print(f"{integration['id']}: {integration['name']}")

# Get integration details
details = client.integrations.retrieve("perplexity")
print(f"Features: {len(details['features'])}")

# Connect integration
connection = client.integrations.connect(
    "perplexity",
    user_id="user_123",
    api_key="perplexity-secret",
)

if hasattr(connection, 'requires_oauth') and connection.requires_oauth:
    print("OAuth required:", connection.redirect_url)
elif hasattr(connection, 'success'):
    print("Connected:", connection.success)

# Execute integration feature
feature_name = details["features"][0]["name"]  # e.g., "PERPLEXITYAI_PERPLEXITY_AI_SEARCH"
execution = client.integrations.execute(
    "perplexity",
    user_id="user_123",
    feature_name=feature_name,
    inputs={"query": "Latest AI news"},
)
print(execution)
```

---

## Models API

List available models:

```python
models = client.models.list()
print(f"Available models: {len(models['data'])}")
for model in models['data']:
    print(f"- {model['id']}")
```

---

## Error Handling

The SDK provides typed exceptions for different error conditions:

```python
from incredible_python import Incredible
from incredible_python._exceptions import (
    AuthenticationError,
    RateLimitError,
    NotFoundError,
    ValidationError,
    APIError,
)

client = Incredible()

try:
    response = client.messages.create(
        model="small-1",
        messages=[{"role": "user", "content": "Hello"}],
        max_tokens=100
    )
except AuthenticationError as e:
    print(f"Authentication failed: {e}")
except RateLimitError as e:
    print(f"Rate limited. Retry after: {e.retry_after}s")
except NotFoundError as e:
    print(f"Resource not found: {e.message}")
except ValidationError as e:
    print(f"Invalid request: {e}")
except APIError as e:
    print(f"API error: {e}")
```

---

## Helper Utilities

The SDK includes helper functions for tool execution workflows:

```python
from incredible_python import helpers

# Build execution plan from response
plan = helpers.build_tool_execution_plan(response.raw)

# Execute plan with registry
results = helpers.execute_plan(plan, registry=your_tool_registry)

# Build follow-up messages
follow_up = helpers.build_follow_up_messages(original_messages, plan, results)
```

---

## Examples

See the [Incredible API Cookbook](https://github.com/Norditech-AB/Incredible-API-Cookbook) for complete examples and use cases.

---

## Additional Resources

<div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, minmax(0, 1fr))', gap: '16px' }}>
  <Card title="API Reference" icon="book" href="/">
    Complete API documentation.
  </Card>
  <Card title="Core Concepts" icon="lightbulb" href="/guides/core-concepts">
    Understanding the Incredible API.
  </Card>
  <Card title="Function Calling" icon="wrench" href="/guides/function-calling">
    Implement tool use.
  </Card>
</div>
