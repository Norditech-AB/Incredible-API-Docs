---
title: "Chat Completion"
description: "Ask a question and get a response. Use stream=true for SSE streaming, or omit stream for a single JSON response."
---

## Request

Send a POST request with your prompt and options. Set `stream: true` to receive Serverâ€‘Sent Events (SSE), or omit `stream` for a single JSON response (default).

<CodeGroup>

```bash
curl -X POST "https://api.incredible.one/v1/chat-completion" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "small-1",
    "messages": [
      { "role": "user", "content": "Hello, Incredible!", "file_ids": ["<id1>", "<id2>", "<id3>", ...] }
    ]
  }'
```

```python
import requests

payload = {
  "model": "small-1",
  "messages": [
    {"role": "user", "content": "Hello, Incredible!"}
  ]
}

res = requests.post("https://api.incredible.one/v1/chat-completion", json=payload)
print(res.json())
```

```javascript
const res = await fetch("https://api.incredible.one/v1/chat-completion", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    model: "small-1",
    messages: [{ role: "user", content: "Hello, Incredible!" }]
  })
});
console.log(await res.json());
```

</CodeGroup>

## Request Body

- **model** string â€” Model identifier (e.g., `small-1`).
- **messages** array â€” Conversation history; at least one user message is required.
- **system** string (optional) â€” System prompt defining assistant behavior.
- **stream** boolean (optional) â€” Set `true` for SSE streaming; omit to get a single JSON response (default `false`).

## Responses

### stream = true (SSE)

```text
data: {"content": {"type": "text_chunk", "content": "Hello"}}
data: {"content": {"type": "function_call", "function_call_id": "...", "function_calls": []}}
data: {"content": "[DONE]"}
```

See also: Chat Completion (Streaming).

### Nonâ€‘streaming (default, JSON)

```json
{
  "result": {
    "response": [
      {
        "content": "Hello! ðŸ‘‹",
        "role": "assistant"
      }
    ],
    "thinking": "Greet the user briefly."
  }
}
```

## Streaming Example

Enable real-time streaming by setting `stream: true`. Receive Server-Sent Events (SSE) as the response is generated.

<CodeGroup>

```python Python SDK
import requests
import json

url = "https://api.incredible.one/v1/chat-completion"
headers = {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
}
payload = {
    "model": "small-1",
    "messages": [
        {"role": "user", "content": "Write a short poem about coding"}
    ],
    "stream": True
}

# Stream response
response = requests.post(url, headers=headers, json=payload, stream=True)

for line in response.iter_lines():
    if line:
        line_str = line.decode('utf-8')
        if line_str.startswith('data: '):
            data_str = line_str[6:]  # Remove 'data: ' prefix
            if data_str == '[DONE]':
                print("\n[Stream complete]")
                break
            try:
                data = json.loads(data_str)
                if 'content' in data and data['content'].get('type') == 'text_chunk':
                    print(data['content']['content'], end='', flush=True)
            except json.JSONDecodeError:
                pass
```

```ts TypeScript SDK
const response = await fetch("https://api.incredible.one/v1/chat-completion", {
  method: "POST",
  headers: {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    model: "small-1",
    messages: [{ role: "user", content: "Write a short poem about coding" }],
    stream: true
  })
});

const reader = response.body?.getReader();
const decoder = new TextDecoder();

while (true) {
  const { done, value } = await reader!.read();
  if (done) break;
  
  const chunk = decoder.decode(value);
  const lines = chunk.split('\n');
  
  for (const line of lines) {
    if (line.startsWith('data: ')) {
      const data = line.slice(6);
      if (data === '[DONE]') {
        console.log('\n[Stream complete]');
        break;
      }
      try {
        const parsed = JSON.parse(data);
        if (parsed.content?.type === 'text_chunk') {
          process.stdout.write(parsed.content.content);
        }
      } catch (e) {
        // Skip malformed JSON
      }
    }
  }
}
```

```bash cURL
curl -X POST "https://api.incredible.one/v1/chat-completion" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -H "Accept: text/event-stream" \
  -N \
  -d '{
    "model": "small-1",
    "messages": [
      {"role": "user", "content": "Write a short poem about coding"}
    ],
    "stream": true
  }'
```

</CodeGroup>

**SSE Stream Format:**
- Each line starts with `data: ` followed by JSON
- `text_chunk` events contain content fragments
- `function_call` events indicate tool usage
- `[DONE]` signals stream completion

**Benefits:**
- Real-time response display
- Lower perceived latency
- Better user experience for long responses
- Ability to cancel mid-stream

