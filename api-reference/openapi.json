{
  "openapi": "3.1.0",
  "info": {
    "title": "Integrations API",
    "description": "API for managing and accessing various integrations and their capabilities",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api.incredible.one/",
      "description": "Production server"
    }
  ],
  "paths": {
    "/v1/chat-completion": {
      "post": {
        "summary": "Chat Completion (Non-Streaming)",
        "description": "Return a complete response in one shot",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequest"
              },
              "example": {
                "model": "small-1",
                "messages": [
                  {"role": "user", "content": "Hello, Incredible!"}
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat completion response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionResponse"
                },
                "example": {
                  "result": {
                    "response": [
                      { "content": "Hello! \ud83d\udc4b", "role": "assistant" }
                    ],
                    "thinking": "Greet the user briefly."
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Messages are required",
                  "instructions": "Provide a messages array with at least one user message"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat-completion/stream": {
      "post": {
        "summary": "Chat Completion (Streaming)",
        "description": "Generate AI responses as a live stream (SSE)",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequestStreaming"
              },
              "example": {
                "model": "small-1",
                "stream": true,
                "messages": [
                  {"role": "user", "content": "What is the weather in Stockholm?"}
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat completion streaming response",
            "content": {
              "text/event-stream": {
                "schema": {
                  "type": "string",
                  "description": "Server-sent events stream for streaming responses"
                },
                "example": "data: {\"content\": {\"type\": \"text_chunk\", \"content\": \"Hello\"}}\ndata: {\"content\": {\"type\": \"function_call\", \"function_call_id\": \"...\", \"function_calls\": []}}\ndata: {\"content\": \"[DONE]\"}"
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/answer": {
      "post": {
        "summary": "Answer",
        "description": "Get direct answers or structured JSON output. Returns plain text for simple queries, or JSON matching your schema when response_format is provided",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnswerRequest"
              },
              "example": {
                "query": "What is the capital of France?"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnswerResponse"
                },
                "example": {
                  "success": true,
                  "answer": "The capital of France is Paris."
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing query or invalid response_format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "missing_query": {
                    "summary": "Missing query",
                    "value": {
                      "success": false,
                      "error": "query is required"
                    }
                  },
                  "invalid_schema": {
                    "summary": "Invalid schema",
                    "value": {
                      "success": false,
                      "error": "response_format must be a valid JSON schema object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Authentication error - invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error - LLM error or JSON parsing failure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "Failed to parse JSON response from LLM",
                  "details": "Expecting property name enclosed in double quotes"
                }
              }
            }
          }
        }
      }
    },
    "/v1/conversation": {
      "post": {
        "summary": "Conversation",
        "description": "Multi-turn conversation using DeepSeek v3.1. Fast and cost-effective for conversational tasks without tool calling",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationRequest"
              },
              "example": {
                "messages": [
                  {"role": "user", "content": "Hello!"},
                  {"role": "assistant", "content": "Hi there!"},
                  {"role": "user", "content": "How are you?"}
                ],
                "system_prompt": "You are a helpful assistant.",
                "stream": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful conversation response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationResponse"
                },
                "example": {
                  "success": true,
                  "response": "I'm doing well, thank you for asking! How can I help you today?"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing or invalid messages",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error - invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error - LLM error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/agent": {
      "post": {
        "summary": "Agent",
        "description": "Agentic conversation with tool calling using Kimi K2 Thinking. Returns tool calls for the caller to execute",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentRequest"
              },
              "example": {
                "messages": [
                  {"role": "user", "content": "What is the weather in San Francisco?"}
                ],
                "system_prompt": "You are a helpful assistant with access to tools.",
                "tools": [
                  {
                    "name": "get_weather",
                    "description": "Get weather information for a location",
                    "input_schema": {
                      "type": "object",
                      "properties": {
                        "location": {"type": "string", "description": "City name"}
                      },
                      "required": ["location"]
                    }
                  }
                ],
                "stream": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful agent response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponse"
                },
                "example": {
                  "success": true,
                  "response": "I'll check the weather in San Francisco for you.",
                  "tool_calls": [
                    {
                      "id": "call_123",
                      "name": "get_weather",
                      "inputs": {"location": "San Francisco"}
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing or invalid messages/tools",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error - invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error - LLM error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/web-search": {
      "post": {
        "summary": "Web Search",
        "description": "Perform semantic web search powered by Exa.AI. Search with filters, retrieve content, and get AI-enhanced results",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebSearchRequest"
              },
              "examples": {
                "simple": {
                  "summary": "Simple Search",
                  "value": {
                    "query": "latest AI developments",
                    "num_results": 5
                  }
                },
                "with_content": {
                  "summary": "Search with Content",
                  "value": {
                    "query": "quantum computing breakthroughs",
                    "num_results": 10,
                    "contents": {
                      "text": true,
                      "highlights": true,
                      "summary": true
                    }
                  }
                },
                "filtered": {
                  "summary": "Filtered Search",
                  "value": {
                    "query": "machine learning papers",
                    "num_results": 20,
                    "type": "neural",
                    "category": "research paper",
                    "start_published_date": "2024-01-01"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful search results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebSearchResponse"
                },
                "example": {
                  "success": true,
                  "results": [
                    {
                      "title": "Latest AI Breakthroughs 2024",
                      "url": "https://example.com/ai-news",
                      "published_date": "2024-11-01",
                      "author": "Tech News",
                      "score": 0.95,
                      "text": "Full article text...",
                      "highlights": ["key highlight 1", "key highlight 2"],
                      "summary": "AI-generated summary..."
                    }
                  ],
                  "autoprompt_string": "recent artificial intelligence advancements 2024"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error - invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error - Exa API error or EXA_API_KEY not configured",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/deep-research": {
      "post": {
        "summary": "Deep Research",
        "description": "Multi-step web research powered by Exa.AI. Get comprehensive reports with structured output and citations",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeepResearchRequest"
              },
              "example": {
                "instructions": "Research the latest developments in quantum computing"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Research completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeepResearchResponse"
                },
                "example": {
                  "success": true,
                  "research_id": "research-abc123",
                  "status": "completed",
                  "output": {
                    "gpus": [
                      {
                        "manufacturer": "NVIDIA",
                        "model": "RTX 4090",
                        "price": 1599,
                        "tdp": 450,
                        "launchDate": "2022-10-12"
                      }
                    ]
                  },
                  "citations": [
                    {
                      "url": "https://nvidia.com/specs",
                      "title": "NVIDIA RTX 4090 Specifications"
                    }
                  ],
                  "searches_performed": 8,
                  "pages_read": 42
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error - invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error - Exa API error or EXA_API_KEY not configured",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/generate-image": {
      "post": {
        "summary": "Generate Image",
        "description": "Generate high-quality images from text descriptions using Fireworks AI's FLUX.1 Kontext [pro] model",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateImageRequest"
              },
              "examples": {
                "basic": {
                  "summary": "Basic Image",
                  "value": {
                    "prompt": "A majestic mountain landscape at sunset with vibrant colors"
                  }
                },
                "with_seed": {
                  "summary": "With Seed",
                  "value": {
                    "prompt": "A futuristic cyberpunk city at night with neon signs",
                    "seed": 42,
                    "aspect_ratio": "16:9"
                  }
                },
                "square_format": {
                  "summary": "Square Format",
                  "value": {
                    "prompt": "A minimalist coffee cup on a wooden table",
                    "aspect_ratio": "1:1",
                    "output_format": "png"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerateImageResponse"
                },
                "example": {
                  "success": true,
                  "image_url": "https://storage.googleapis.com/fw-flumina-kontext-images/abc123.jpeg",
                  "request_id": "abc123",
                  "seed": 42
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "missing_prompt": {
                    "summary": "Missing prompt",
                    "value": {
                      "success": false,
                      "error": "Request body required"
                    }
                  },
                  "invalid_aspect_ratio": {
                    "summary": "Invalid aspect ratio",
                    "value": {
                      "success": false,
                      "error": "Invalid request",
                      "details": "aspect_ratio must be one of ['1:1', '16:9', '9:16', '4:3', '3:4', '21:9', '9:21']"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Authentication error - invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error - Fireworks API error or generation failure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "Image generation failed",
                  "details": "Safety check failed"
                }
              }
            }
          },
          "503": {
            "description": "Service unavailable - FIREWORKS_AI_API_KEY not configured",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "FIREWORKS_AI_API_KEY not configured"
                }
              }
            }
          },
          "504": {
            "description": "Gateway timeout - image generation took longer than 5 minutes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "Image generation timed out",
                  "details": "Request did not complete within 300 seconds"
                }
              }
            }
          }
        }
      }
    },
    "/v1/integrations": {
      "get": {
        "summary": "List all integrations",
        "description": "Returns a list of available integrations with id, name, description, logo URL, app URL, features, and authentication method",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response with list of integrations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Integration"
                  }
                },
                "example": [
                  {
                    "app_url": "https://perplexity.ai",
                    "auth_method": "API_KEY",
                    "description": "Perplexity AI provides conversational AI models for generating human-like text responses",
                    "features": [],
                    "id": "perplexity",
                    "logo_url": "https://cdn.jsdelivr.net/gh/ComposioHQ/open-logos@master//perplexity.jpeg",
                    "name": "Perplexity"
                  },
                  {
                    "app_url": "https://mail.google.com",
                    "auth_method": "OAUTH2",
                    "description": "Gmail is Google's email service, featuring spam protection, search functions, and seamless integration with other G Suite apps for productivity",
                    "features": [
                      {
                        "description": "Sends an email via gmail api using the authenticated user's google profile display name, requiring `is html=true` if the body contains html and valid `s3key`, `mimetype`, `name` for any attachment.",
                        "name": "GMAIL_SEND_EMAIL"
                      },
                      {
                        "description": "Sends an email via gmail api using the authenticated user's google profile display name, requiring `is html=true` if the body contains html and valid `s3key`, `mimetype`, `name` for any attachment.",
                        "name": "GMAIL_SEND_EMAIL"
                      }
                    ],
                    "id": "gmail",
                    "logo_url": "https://cdn.jsdelivr.net/gh/ComposioHQ/open-logos@master/gmail.svg",
                    "name": "Gmail"
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/integrations/{integration_id}": {
      "get": {
        "summary": "Get integration details",
        "description": "Returns detailed information about a specific integration including its capabilities and authentication requirements",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "integration_id",
            "in": "path",
            "required": true,
            "description": "The unique identifier of the integration",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Integration details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Integration"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/integrations/{integration_id}/connect": {
      "post": {
        "summary": "Connect to integration",
        "description": "Establishes a connection to a specific integration. The connection process varies based on the integration's authentication method (API key, OAuth1, OAuth2)",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "integration_id",
            "in": "path",
            "required": true,
            "description": "The unique identifier of the integration to connect to",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Connection successful or OAuth redirect URL provided",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing required parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Connection failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/integrations/{integration_id}/execute": {
      "post": {
        "summary": "Execute integration feature",
        "description": "Executes a specific feature or function from an integration. Used by agentic models to perform actions through connected integrations",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "integration_id",
            "in": "path",
            "required": true,
            "description": "The unique identifier of the integration",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExecuteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feature executed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExecuteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters or feature not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Feature execution failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "API Key",
        "description": "Enter your API key. Get your API key from https://platform.incredible.one"
      }
    },
    "schemas": {
      "Integration": {
        "required": [
          "name",
          "description"
        ],
        "type": "object",
        "properties": {
          "id": {
            "description": "Unique identifier for the integration",
            "type": "string"
          },
          "name": {
            "description": "The name of the integration",
            "type": "string"
          },
          "description": {
            "description": "A description of what the integration does",
            "type": "string"
          },
          "logo_url": {
            "description": "URL to the integration's logo image",
            "type": "string",
            "format": "uri"
          },
          "app_url": {
            "description": "URL to the integration's main application or website",
            "type": "string",
            "format": "uri"
          },
          "features": {
            "description": "List of available features or capabilities provided by the integration",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Feature name"
                },
                "description": {
                  "type": "string",
                  "description": "Feature description"
                }
              },
              "required": ["name"]
            }
          },
          "auth_method": {
            "description": "The authentication method used by the integration",
            "type": "string",
            "enum": ["OAUTH2", "API_KEY", "BASIC_AUTH", "NONE"]
          }
        }
      },
      "ConnectRequest": {
        "required": [
          "user_id"
        ],
        "type": "object",
        "properties": {
          "user_id": {
            "description": "The unique identifier of the user attempting to connect",
            "type": "string"
          },
          "api_key": {
            "description": "The API key for API key-based authentication (required only for integrations using API key auth)",
            "type": "string"
          },
          "callback_url": {
            "description": "The URL to redirect to after OAuth authentication completes (optional for OAuth flows)",
            "type": "string",
            "format": "uri"
          }
        }
      },
      "ConnectResponse": {
        "type": "object",
        "properties": {
          "success": {
            "description": "Whether the connection was successful (for API key auth)",
            "type": "boolean"
          },
          "message": {
            "description": "Success or error message",
            "type": "string"
          },
          "redirect_url": {
            "description": "The OAuth authorization URL to redirect the user to (for OAuth flows)",
            "type": "string",
            "format": "uri"
          },
          "instructions": {
            "description": "Instructions for the user on how to complete the authentication",
            "type": "string"
          }
        }
      },
      "ExecuteRequest": {
        "required": [
          "user_id",
          "feature_name"
        ],
        "type": "object",
        "properties": {
          "user_id": {
            "description": "The unique identifier of the user executing the feature",
            "type": "string"
          },
          "feature_name": {
            "description": "The name of the feature/function to execute",
            "type": "string"
          },
          "inputs": {
            "description": "The input parameters for the feature execution",
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "ExecuteResponse": {
        "required": [
          "success",
          "integration_id",
          "feature_name",
          "user_id"
        ],
        "type": "object",
        "properties": {
          "success": {
            "description": "Whether the feature execution was successful",
            "type": "boolean"
          },
          "result": {
            "description": "The result data from the feature execution",
            "type": "object",
            "additionalProperties": true
          },
          "integration_id": {
            "description": "The ID of the integration that executed the feature",
            "type": "string"
          },
          "feature_name": {
            "description": "The name of the feature that was executed",
            "type": "string"
          },
          "user_id": {
            "description": "The ID of the user who executed the feature",
            "type": "string"
          }
        }
      },

      "ChatCompletionRequest": {
        "type": "object",
        "required": ["model", "messages"],
        "properties": {
          "model": {
            "type": "string",
            "description": "The model to use for chat completion",
            "example": "small-1"
          },
          "messages": {
            "type": "array",
            "description": "Array of message objects that make up the conversation",
            "items": {
              "type": "object",
              "required": ["role", "content"],
              "properties": {
                "role": {
                  "type": "string",
                  "enum": ["system", "user", "assistant"],
                  "description": "The role of the message author"
                },
                "content": {
                  "type": "string",
                  "description": "The content of the message"
                }
              }
            }
          },
          "system": {
            "type": "string",
            "description": "The system prompt that defines the AI's behavior",
            "default": "You are a helpful assistant."
          },
          "stream": {
            "type": "boolean",
            "description": "Whether to return a streaming response",
            "default": false
          }
        }
      },
      "ChatCompletionRequestStreaming": {
        "type": "object",
        "required": ["model", "messages"],
        "properties": {
          "model": {
            "type": "string",
            "description": "The model to use for chat completion",
            "example": "small-1"
          },
          "messages": {
            "type": "array",
            "description": "Array of message objects that make up the conversation",
            "items": {
              "type": "object",
              "required": ["role", "content"],
              "properties": {
                "role": {
                  "type": "string",
                  "enum": ["system", "user", "assistant"],
                  "description": "The role of the message author"
                },
                "content": {
                  "type": "string",
                  "description": "The content of the message"
                }
              }
            }
          },
          "system": {
            "type": "string",
            "description": "The system prompt that defines the AI's behavior",
            "default": "You are a helpful assistant."
          },
          "stream": {
            "type": "boolean",
            "description": "Whether to return a streaming response",
            "default": true
          }
        }
      },
      "ChatCompletionResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "description": "Structured chat completion result",
            "properties": {
              "response": {
                "type": "array",
                "description": "List of assistant messages in the response",
                "items": {
                  "type": "object",
                  "properties": {
                    "content": {
                      "type": "string",
                      "description": "Message content"
                    },
                    "role": {
                      "type": "string",
                      "description": "Message role",
                      "example": "assistant"
                    }
                  },
                  "required": ["content", "role"]
                }
              },
              "thinking": {
                "type": "string",
                "description": "Model's internal reasoning summary for the response"
              }
            },
            "required": ["response"]
          }
        },
        "required": ["result"]
      },
      "AnswerRequest": {
        "type": "object",
        "required": ["query"],
        "properties": {
          "query": {
            "type": "string",
            "description": "Your question, task, or text to analyze",
            "default": "What is the capital of France?"
          }
        }
      },
      "AnswerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the request was successful"
          },
          "answer": {
            "type": "string",
            "description": "The generated answer (only present in simple mode without response_format)"
          },
          "data": {
            "type": "object",
            "description": "Structured data matching the provided schema (only present when response_format is provided)",
            "additionalProperties": true
          }
        },
        "required": ["success"]
      },
      "ConversationRequest": {
        "type": "object",
        "required": ["messages"],
        "properties": {
          "messages": {
            "type": "array",
            "description": "Conversation history with user and assistant messages",
            "minItems": 1,
            "default": [
              {
                "role": "user",
                "content": "Hello!"
              }
            ],
            "items": {
              "type": "object",
              "required": ["role", "content"],
              "properties": {
                "role": {
                  "type": "string",
                  "enum": ["user", "assistant"],
                  "description": "Role of the message sender",
                  "default": "user"
                },
                "content": {
                  "type": "string",
                  "description": "Content of the message",
                  "default": "Hello!"
                }
              }
            }
          },
          "system_prompt": {
            "type": "string",
            "description": "System prompt to guide the conversation. Defaults to 'You are a helpful assistant.'",
            "default": "You are a helpful assistant."
          }
        }
      },
      "ConversationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the request was successful"
          },
          "response": {
            "type": "string",
            "description": "The assistant's response"
          }
        },
        "required": ["success", "response"]
      },
      "AgentRequest": {
        "type": "object",
        "required": ["messages", "tools"],
        "properties": {
          "messages": {
            "type": "array",
            "description": "Conversation history with user and assistant messages",
            "minItems": 1,
            "default": [
              {
                "role": "user",
                "content": "What is 25 * 4?"
              }
            ],
            "items": {
              "type": "object",
              "required": ["role", "content"],
              "properties": {
                "role": {
                  "type": "string",
                  "enum": ["user", "assistant"],
                  "description": "Role of the message sender",
                  "default": "user"
                },
                "content": {
                  "type": "string",
                  "description": "Content of the message",
                  "default": "What is 25 * 4?"
                }
              }
            }
          },
          "tools": {
            "type": "array",
            "description": "List of tool definitions available to the agent",
            "minItems": 1,
            "default": [
              {
                "name": "calculator",
                "description": "Perform basic arithmetic calculations",
                "input_schema": {
                  "type": "object",
                  "properties": {
                    "location": {
                      "type": "string",
                      "description": "City name"
                    },
                    "expression": {
                      "type": "string",
                      "description": "Math expression to evaluate"
                    }
                  },
                  "required": ["expression"]
                }
              }
            ],
            "items": {
              "type": "object",
              "required": ["name", "description", "input_schema"],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Tool name (should be descriptive)",
                  "default": "calculator"
                },
                "description": {
                  "type": "string",
                  "description": "What the tool does",
                  "default": "Perform basic arithmetic calculations"
                },
                "input_schema": {
                  "type": "object",
                  "description": "JSON schema defining tool inputs",
                  "default": {
                    "type": "object",
                    "properties": {
                      "location": {
                        "type": "string",
                        "description": "City name"
                      },
                      "expression": {
                        "type": "string",
                        "description": "Math expression to evaluate"
                      }
                    },
                    "required": ["expression"]
                  }
                }
              }
            }
          },
          "system_prompt": {
            "type": "string",
            "description": "System prompt to guide the agent. Defaults to 'You are a helpful assistant with access to tools.'",
            "default": "You are a helpful assistant with access to tools."
          }
        }
      },
      "AgentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the request was successful"
          },
          "response": {
            "type": "string",
            "description": "The assistant's response"
          },
          "tool_calls": {
            "type": "array",
            "description": "List of tool calls made by the agent (null if no tools were called)",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique identifier for the tool call"
                },
                "name": {
                  "type": "string",
                  "description": "Name of the tool being called"
                },
                "inputs": {
                  "type": "object",
                  "description": "Inputs to pass to the tool",
                  "additionalProperties": true
                }
              },
              "required": ["id", "name", "inputs"]
            }
          }
        },
        "required": ["success", "response"]
      },
      "GenerateImageRequest": {
        "type": "object",
        "required": ["prompt"],
        "properties": {
          "prompt": {
            "type": "string",
            "description": "Text description of the image to generate",
            "minLength": 1,
            "default": "A majestic mountain landscape at sunset with vibrant colors"
          },
          "aspect_ratio": {
            "type": "string",
            "enum": ["1:1", "16:9", "9:16", "4:3", "3:4", "21:9", "9:21"],
            "default": "16:9",
            "description": "Aspect ratio of the output image"
          },
          "output_format": {
            "type": "string",
            "enum": ["jpeg", "png"],
            "default": "jpeg",
            "description": "Output format of the generated image"
          },
          "seed": {
            "type": "integer",
            "description": "Random seed for reproducibility. Using the same seed with the same prompt will generate similar images"
          },
          "prompt_upsampling": {
            "type": "boolean",
            "default": false,
            "description": "Whether to enhance the prompt for more creative generation"
          },
          "safety_tolerance": {
            "type": "integer",
            "minimum": 0,
            "maximum": 6,
            "default": 2,
            "description": "Content moderation level (0-6, where 0 is most strict)"
          }
        }
      },
      "GenerateImageResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether image generation was successful"
          },
          "image_url": {
            "type": "string",
            "format": "uri",
            "description": "URL to the generated image (expires in 1 hour)"
          },
          "image_base64": {
            "type": "string",
            "description": "Base64-encoded image data (if available)"
          },
          "request_id": {
            "type": "string",
            "description": "Unique request ID from Fireworks API"
          },
          "seed": {
            "type": "integer",
            "description": "Seed used for generation"
          }
        },
        "required": ["success"]
      },
      "WebSearchRequest": {
        "type": "object",
        "required": ["query"],
        "properties": {
          "query": {
            "type": "string",
            "description": "The search query",
            "default": "latest AI developments"
          },
          "num_results": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "default": 10,
            "description": "Number of results to return"
          },
          "include_domains": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Domains to include in search"
          },
          "exclude_domains": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Domains to exclude from search"
          },
          "start_published_date": {
            "type": "string",
            "description": "Filter results published after this date (YYYY-MM-DD)"
          },
          "end_published_date": {
            "type": "string",
            "description": "Filter results published before this date (YYYY-MM-DD)"
          },
          "use_autoprompt": {
            "type": "boolean",
            "default": true,
            "description": "Use Exa's autoprompt to enhance query"
          },
          "type": {
            "type": "string",
            "enum": ["neural", "keyword"],
            "default": "neural",
            "description": "Search type: 'neural' for semantic or 'keyword' for exact match"
          },
          "category": {
            "type": "string",
            "description": "Filter by category (e.g., 'company', 'research paper', 'news')"
          },
          "contents": {
            "type": "object",
            "description": "Content retrieval options",
            "properties": {
              "text": {
                "type": "boolean",
                "description": "Get full text content"
              },
              "highlights": {
                "type": "boolean",
                "description": "Get key highlights"
              },
              "summary": {
                "type": "boolean",
                "description": "Get AI-generated summary"
              }
            }
          }
        }
      },
      "WebSearchResponse": {
        "type": "object",
        "required": ["success", "results"],
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the request was successful"
          },
          "results": {
            "type": "array",
            "description": "Search results",
            "items": {
              "type": "object",
              "required": ["title", "url", "score"],
              "properties": {
                "title": {"type": "string"},
                "url": {"type": "string"},
                "published_date": {"type": "string"},
                "author": {"type": "string"},
                "score": {"type": "number"},
                "text": {"type": "string"},
                "highlights": {
                  "type": "array",
                  "items": {"type": "string"}
                },
                "summary": {"type": "string"}
              }
            }
          },
          "autoprompt_string": {
            "type": "string",
            "description": "Enhanced query string if autoprompt was used"
          }
        }
      },
      "DeepResearchRequest": {
        "type": "object",
        "required": ["instructions"],
        "properties": {
          "instructions": {
            "type": "string",
            "description": "Research task instructions in natural language",
            "default": "Research the latest developments in quantum computing"
          }
        }
      },
      "DeepResearchResponse": {
        "type": "object",
        "required": ["success", "research_id", "status", "output"],
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the request was successful"
          },
          "research_id": {
            "type": "string",
            "description": "Unique identifier for this research task"
          },
          "status": {
            "type": "string",
            "description": "Completion status"
          },
          "output": {
            "type": "object",
            "description": "Structured research output",
            "additionalProperties": true
          },
          "citations": {
            "type": "array",
            "description": "Source citations",
            "items": {
              "type": "object",
              "required": ["url", "title"],
              "properties": {
                "url": {"type": "string"},
                "title": {"type": "string"}
              }
            }
          },
          "searches_performed": {
            "type": "integer",
            "description": "Number of searches executed"
          },
          "pages_read": {
            "type": "integer",
            "description": "Number of web pages analyzed"
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "details": {
            "type": "string",
            "description": "Additional error details"
          },
          "instructions": {
            "type": "string",
            "description": "Instructions for resolving the error"
          }
        },
        "required": ["error"]
      }
    }
  }
}